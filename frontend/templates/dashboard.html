{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}
{% block page_title %}Dashboard{% endblock %}
{% block content %}
<div class="row g-3 mb-4">
    <div class="col-sm-6 col-xl-3">
        <div class="stat-card">
            <div class="stat-label">Total People Detected</div>
            <div class="stat-value" id="totalPeople">0</div>
        </div>
    </div>
    <div class="col-sm-6 col-xl-3">
        <div class="stat-card">
            <div class="stat-label">Active Cameras</div>
            <div class="stat-value" id="activeCameras">0</div>
        </div>
    </div>
    <div class="col-sm-6 col-xl-3">
        <div class="stat-card">
            <div class="stat-label">Unacknowledged Alerts</div>
            <div class="stat-value" id="unackAlerts">0</div>
        </div>
    </div>
    <div class="col-sm-6 col-xl-3">
        <div class="stat-card">
            <div class="stat-label">Highest Risk Level</div>
            <div class="stat-value" id="maxRisk">SAFE</div>
        </div>
    </div>
</div>

<div class="row g-3">
    <div class="col-lg-8">
        <div class="panel">
            <div class="panel-header">
                <h6>Active Camera Feeds</h6>
            </div>
            <div class="row g-3" id="cameraGrid">
                <div class="col-12 text-center text-secondary py-5" id="emptyState">
                    <p>No active cameras. Go to <a href="/cameras">Cameras</a> to add a video and start processing.</p>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-4">
        <div class="panel mb-3">
            <div class="panel-header"><h6>System</h6></div>
            <div class="d-flex gap-3 text-center">
                <div class="flex-fill">
                    <div class="stat-value-sm" id="statCamTotal">0</div>
                    <div class="stat-label-sm">Cameras</div>
                </div>
                <div class="flex-fill">
                    <div class="stat-value-sm" id="statMetrics">0</div>
                    <div class="stat-label-sm">Data Points</div>
                </div>
            </div>
        </div>
        <div class="panel">
            <div class="panel-header"><h6>Recent Alerts</h6></div>
            <div id="alertFeed" class="alert-feed">
                <p class="text-secondary small text-center mb-0">No recent alerts</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
{% block scripts %}<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>{% endblock %}
